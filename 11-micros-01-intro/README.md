# Домашнее задание к занятию "Введение в микросервисы"

## Задача 1: Интернет Магазин

Руководство крупного интернет магазина у которого постоянно растёт пользовательская база и количество заказов рассматривает возможность переделки своей 
внутренней ИТ системы на основе микросервисов. 

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру. 

Опишите какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы необходимо будет решить в первую очередь.

---

### Ответ

В случае перехода внутренней ИТ системы от монолита в независимые сервисы, компания получит следующие преимущества:

- Обеспечение масштабируемости системы, распределение сервисов между серверами по потребностям, увеличение ресурсов не для всей системы в целлом, а для отдельных сервисов;
- Устойчивость к различным родам ошибок за счет различных техник их устранения, построение системы, обеспечение работоспособности при появлении ошибок;
- Техническая разнородностт, использование разных стеков технологий в проекте, не ограничиваясь заранее выбранным стеком и подходами;
- Обеспечение простоты развертывания изменений и новых наработок отдельно по сервисам, а не единым блоков в случае монолита;

Как результат, проектирование системы, которая будет соответствовать структурам коммуникации внутри организации, создание кросс-функциональных команд вокруг бизнес сервисов, которые обеспечивают работу отдельных подразделений.

---

Следующие проблемы необходимо решить при переходе на микросервисную архитектуру:

1) Разбиение монолитного проекта на независимые сервисы, каждый из которых реализует отдельную бизнес-логику. Необходимо сформировать микросервисную архитектуру, чтобы устраненить сильные связанности сервисов и, в то же время, сохранить целостность проекта. То есть необходимо добиться оптимизации автономности и жизнеспособности сервисов, чтобы проект оставался единым целым и не был раздроблен на несколько отдельных продуктов.
2) Общая команда разработчиков перегруппировывается на команды, каждая из команд отвечает за реализацию определенной бизнес-логики.
3) Проектировать сервисы таким образом, чтобы максимально увеличить возможность одного сервиса совершенствоваться независимо от всех других сервисов, то есть скрыть подробности его реализации отдельно взятого сервиса от другого.
4) Обеспечить возможность внесения изменений в отдельно взятый сервис и его выпуска для работы в производственном режиме без необходимости развертывания других сервисов с приостановкой работы системы.
5) Задать модель интеграции и оркестрации сервисов, продумать автоматизацию развертывания сервисов и их тестирования, независимость развертывания сервисов друг от друга.
6) Обеспечить уровень отказоустойчивости в каждом сервисе, принимать в расчет возможности и неизбежности сбоев сервисов.
7) Подумать о том, в какой защите нуждаются наши данные при их перемещении из одной точки в другую и какая им нужна защита, когда они просто хранятся в системе, уровни доступа к проекту в целом.
8) Мониторинг должен отображать логически последовательное, общесистемное представление о работоспособности системы, это важно для отслеживания бизнес процессов продукта. Но также необходимо собирать метрику для каждого сервиса в отдельности, потому что разработчикам и инженерам важно понимать состояние своего сервиса и реагировать на его изменения.
9) Вести документацию по каждому сервису, обеспечить ее актуальность

В целом:

- Связать сервисы и бизнес процессы
- Продумать межсервисное взаимодействие, инкапсуляцию данных сервисов
- Обеспечить независимость релизов для сервисов
- Выявить общие данные, модули, библиотеки, хранить их в едином репозитории
- Автоматизация CI/CD на уровне сервисов
- Безопасность данных сервисов в частности и проекта в целом
- Всесторонний многоуровевый мониторинг

---

Переход на микросервисную архитектуру с одной стороны увеличит отказоустойчивость, гибкость управления, частоту релизов с изменениями. С другой стороны внедление микросервисной непременно повысит требования к командам эксплуатации и разработки.

---
